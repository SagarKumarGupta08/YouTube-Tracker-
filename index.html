<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>YouTube Tracker (Unlimited)</title>
<style>
  body { background:#000; color:#fff; font-family:Arial; margin:0; padding:0; }
  h1 { text-align:center; color:red; margin:20px 0; }
  .filter-btn {
    display:block; margin:10px auto; padding:10px 20px;
    background:red; color:white; border:none; border-radius:5px;
    cursor:pointer; font-size:16px;
  }
  .channel { margin:20px; padding:10px; background:#111; border-radius:10px; }
  .channel-header { display:flex; align-items:center; gap:10px; cursor:pointer; }
  .channel-logo { width:40px; height:40px; border-radius:50%; }
  .videos { display:flex; overflow-x:auto; gap:10px; padding-top:10px; }
  .video { min-width:200px; background:#222; border-radius:8px; text-align:center; flex-shrink:0; }
  .video img { width:100%; border-radius:8px; }
  .video-title { font-size:12px; color:#ffcc00; padding:5px; }
</style>
</head>
<body>

<h1>ðŸ“º YouTube Tracker (Unlimited)</h1>
<button class="filter-btn" onclick="toggleFilter()">Show Last 48 Hours</button>
<div id="channels"></div>

<script>
let filter48 = false; // Filter toggle

const channels = [
  { name: "Techno Gamerz", id: "UCX8pnu3DYUnx8qy8V_c6oHg", logo: "https://yt3.ggpht.com/ytc/AL5GRJXxHh=s88-c-k-c0x00ffffff-no-rj" },
  { name: "Tech Shot", id: "UCs6EmLAT4lTWwCSJRgbbchQ", logo: "https://yt3.ggpht.com/ytc/AL5GRJUmIF=s88-c-k-c0x00ffffff-no-rj" },  
  { name: "Techno", id: "UCihCQz9gjV2r0d7p_8BPHTA", logo: "https://yt3.ggpht.com/ytc/AL5GRJUzuv=s88-c-k-c0x00ffffff-no-rj" },
  { name: "Ashu Bist", id: "UCPjaNv8GlIamrxCbqincG_g", logo: "https://yt3.ggpht.com/ytc/AL5GRJUuWM=s88-c-k-c0x00ffffff-no-rj" },
  { name: "Notgamerfleet", id: "UCHciekxM6H6F3OTPrHs6B5g", logo: "https://yt3.ggpht.com/ytc/AL5GRJUuWM=s88-c-k-c0x00ffffff-no-rj" },
  { name: "Mr Indian Hacker", id: "UCSiDGb0MnHFGjs4E2WKvShw", logo: "https://yt3.ggpht.com/ytc/AL5GRJUzuv=s88-c-k-c0x00ffffff-no-rj" }
];

const container = document.getElementById("channels");
channels.forEach((ch, index) => {
  container.innerHTML += `
    <div class="channel">
      <div class="channel-header" onclick="loadVideos('${ch.id}', 'videos${index}')">
        <img class="channel-logo" src="${ch.logo}" alt="${ch.name}">
        <h3>${ch.name}</h3>
      </div>
      <div id="videos${index}" class="videos"></div>
    </div>
  `;
});

function toggleFilter(){
  filter48 = !filter48;
  document.querySelector(".filter-btn").textContent = filter48 ? "Show All Videos" : "Show Last 48 Hours";
  // Reload all videos
  channels.forEach((ch, i)=> loadVideos(ch.id, `videos${i}`));
}

async function loadVideos(channelId, containerId) {
  const container = document.getElementById(containerId);
  container.innerHTML = "<p>Loading...</p>";

  try {
    const rssUrl = `https://www.youtube.com/feeds/videos.xml?channel_id=${channelId}`;
    const proxyUrl = `https://api.allorigins.win/get?url=${encodeURIComponent(rssUrl)}`;
    const res = await fetch(proxyUrl);
    const data = await res.json();

    const parser = new DOMParser();
    const xml = parser.parseFromString(data.contents, "application/xml");
    const entries = xml.getElementsByTagName("entry");

    container.innerHTML = "";
    let now = new Date();

    for (let i = 0; i < Math.min(10, entries.length); i++) {
      const title = entries[i].getElementsByTagName("title")[0].textContent;
      const link = entries[i].getElementsByTagName("link")[0].getAttribute("href");
      const thumbnail = entries[i].getElementsByTagName("media:thumbnail")[0].getAttribute("url");
      const published = new Date(entries[i].getElementsByTagName("published")[0].textContent);

      const diffHrs = (now - published) / (1000 * 60 * 60);

      if (filter48 && diffHrs > 48) continue; // Skip old videos if filter on

      container.innerHTML += `
        <div class="video">
          <a href="${link}" target="_blank">
            <img src="${thumbnail}" alt="${title}">
          </a>
          <div class="video-title">${title}</div>
        </div>
      `;
    }
    if (container.innerHTML.trim() === "") container.innerHTML = "<p>No recent videos.</p>";

  } catch (error) {
    container.innerHTML = "<p>Error fetching videos.</p>";
    console.error(error);
  }
}
</script>

</body>
</html>